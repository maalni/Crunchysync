<app-tabnav [totalWatching]="watching?.length" [totalUnseen]="unseen?.length" [totalDone]="done?.length" [totalAnimes]="animes?.length" (onSelectedEvent)="selectedPage = $event"></app-tabnav>
<div id="warnings" [hidden]="selectedPage == 4">
	<app-warning *ngIf="updateVersion !== 0" (click)="openUpdate()" [message]="'New version available: '+updateVersion" [type]="'update'"></app-warning>
	<app-warning *ngIf="errorMessage !== ''" [message]="errorMessage" [type]="'error'"></app-warning>
	<app-warning *ngIf="cachedQueue" [message]="'Cached'" [type]="''"></app-warning>
</div>
<div id="content">
	<app-category [animes]="watching" [userIsPremium]="settings['userIsPremium']" (onSelect)="selectedAnime = $event; animeSelected = true" [hidden]="selectedPage != 0"></app-category>
	<app-category [animes]="unseen" [userIsPremium]="settings['userIsPremium']" (onSelect)="selectedAnime = $event; animeSelected = true" [hidden]="selectedPage != 1"></app-category>
	<app-category [animes]="done" [userIsPremium]="settings['userIsPremium']" (onSelect)="selectedAnime = $event; animeSelected = true" [hidden]="selectedPage != 2"></app-category>
	<app-category [animes]="animes" [userIsPremium]="settings['userIsPremium']" (onSelect)="selectedAnime = $event; animeSelected = true" search="true" [hidden]="selectedPage != 3"></app-category>
	<app-settings id="settings" [sessionid]="settings['sessionid']" [firstuse]="settings['firstuse']" (onSettingsLoaded)="onSettingsLoadedEventHandler($event)" (onSettingsChanged)="settings = $event" [hidden]="selectedPage != 4"></app-settings>
	<app-spinner id="spinner" [hidden]="(selectedPage == 4)||(!loading)"></app-spinner>
</div>
<button id="refreshbtn" (click)="refreshQueue()" [hidden]="(selectedPage == 4)||(loading)"><svg><use xlink:href="../assets/icons/refresh.svg#refresh"></use></svg><span>Refresh</span></button>
<app-selected-anime id="selectedAnime" [selectedAnime]="selectedAnime" [userIsPremium]="settings['userIsPremium']" (onComplete)="refreshQueue()" (onClose)="animeSelected = false" [hidden]="!animeSelected"></app-selected-anime>
<app-setup *ngIf="settings['firstuse']" [username]="settings['username']" [password]="settings['password']" [forceUsRegion]="settings['forceUsRegion']" [userIsPremium]="settings['userIsPremium']" [disableBackgroundChecks]="settings['disableBackgroundChecks']" [theme]="settings['theme']" (onSetupComplete)="onSetupCompleteEventHandler($event)"></app-setup>
<app-splashscreen></app-splashscreen>
